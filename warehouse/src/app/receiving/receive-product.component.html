<h2>Receiving Products</h2>
<div class="alert alert-success">Order status</div>
<div class="alert alert-info m-5">
  <h3>Instructions</h3>
  <ol>
    <li>Scan or enter a tracking number.</li>
    <li>
      Enter a product ID if you know it or begin entering a description and
      choose from options
    </li>
    <li>Enter the number of items and check the <i>Got it</i> box.</li>
    <li>
      After you've picked, packed, and shipped your last item, click
      <i>Finished receiving</i>
    </li>
  </ol>
  <p>
    If there's a problem and you need a supervisor to look at it, hit the
    "Problem" button.
  </p>
</div>
<section
  id="trackingInfo"
  class="m-5"
  [ngClass]="{
    'text-bg-success': numberInput.valid,
    'text-bg-danger': numberInput.invalid
  }"
>
  <div class="control-group">
    <label class="control-label" for="trackingNumber">Tracking number</label>
    <input
      #numberInput="ngModel"
      [(ngModel)]="trackingNumber"
      class="form-control"
      id="trackingNumber"
      required
      pattern="^\d[A-Z]\d{16}$|^\d{14,15}$|^9[2-4]\d{2}( ?\d{4}){4} ?\d{2}$"
    />
  </div>
  <button class="btn btn-primary btn-large" (click)="saveTrackingNumber()">
    Continue
  </button>
</section>
<div *ngIf="showForm">
  <section id="productInfo" class="m-5">
    <div class="control-group">
      <label class="control-label" for="productName">Product Name</label>
      <input class="form-control" id="productName" />
    </div>
    <div class="list-group" id="productList">
      <button class="list-group-item">A placeholder product</button>
      <button class="list-group-item">Another placeholder product</button>
      <button class="list-group-item">Yet another product</button>
    </div>
    <p>... OR ...</p>
    <div class="control-group">
      <label class="control-label" for="productID">Product ID</label>
      <input class="form-control" id="productID" [(ngModel)]="productID" />
    </div>
    <div class="control-group">
      <label class="control-label" for="quantity">Quantity Received</label>
      <input
        class="form-control"
        id="quantity"
        step="1"
        type="number"
        [(ngModel)]="quantity"
      />
    </div>
    <div class="control-group">
      <input
        class="btn btn-primary"
        type="submit"
        (click)="receiveProduct(productID, quantity)"
        value="Receive product"
      />
    </div>
  </section>
  <section id="orderContents" class="m-5">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Image</th>
          <th>ID</th>
          <th>Name</th>
          <th>Quantity</th>
          <th>Location</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of receiveProducts">
          <td>
            <img alt="Fish Sauce" src="assets/images/productImages/8.jpg" />
          </td>
          <td>{{ product.productID }}</td>
          <td>Name?</td>
          <td>{{ product.quantity }}</td>
          <td>Location?</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section class="m-5">
    <button class="btn btn-lg" (click)="finishedReceiving()">
      Finished receiving
    </button>
  </section>
</div>
